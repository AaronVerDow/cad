
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
module poly_path3069(h)
{
    translate([0,0,max_h])
    rotate([0,180,22])
    scale([custom_scale,custom_scale,1])
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[-245.859546,-698.926151],[-254.616497,-698.724804],[-263.382443,-698.189512],[-272.157175,-697.311062],[-280.940487,-696.080239],[-289.732172,-694.487830],[-298.532022,-692.524620],[-307.339830,-690.181395],[-316.155390,-687.448941],[-324.978494,-684.318045],[-333.808936,-680.779492],[-342.646507,-676.824068],[-351.491001,-672.442559],[-360.342212,-667.625751],[-369.199931,-662.364430],[-378.063952,-656.649382],[-386.934067,-650.471392],[-395.810070,-643.821248],[-404.691753,-636.689734],[-413.578910,-629.067637],[-422.471333,-620.945742],[-431.368815,-612.314837],[-440.271149,-603.165705],[-449.178128,-593.489135],[-458.089546,-583.275910],[-467.005193,-572.516818],[-475.924865,-561.202645],[-484.848353,-549.324175],[-493.775451,-536.872196],[-502.705951,-523.837493],[-511.639647,-510.210853],[-520.576331,-495.983060],[-529.515796,-481.144901],[-542.522758,-457.608217],[-555.703603,-435.116249],[-569.041147,-413.638384],[-582.518211,-393.144007],[-596.117613,-373.602504],[-609.822172,-354.983260],[-623.614706,-337.255661],[-637.478035,-320.389092],[-651.394978,-304.352940],[-665.348354,-289.116588],[-679.320980,-274.649424],[-693.295677,-260.920832],[-707.255263,-247.900198],[-721.182557,-235.556908],[-735.060378,-223.860347],[-748.871544,-212.779900],[-762.598875,-202.284954],[-776.225190,-192.344894],[-789.733306,-182.929105],[-803.106044,-174.006973],[-829.376660,-157.521222],[-854.899586,-142.642726],[-879.537375,-129.126568],[-903.152577,-116.727833],[-946.765426,-94.302970],[-966.488174,-83.787011],[-984.638540,-73.408812],[-1001.079074,-62.923458],[-1008.615201,-57.564062],[-1015.672327,-52.086034],[-1022.233271,-46.458759],[-1028.280851,-40.651623],[-1033.797886,-34.634012],[-1038.767196,-28.375311],[-1043.171599,-21.844905],[-1046.993914,-15.012181],[-1050.216959,-7.846523],[-1052.823555,-0.317318],[-1054.796519,7.606049],[-1056.118670,15.954194],[-1056.772828,24.757729],[-1056.741811,34.047269],[-1056.008438,43.853430],[-1054.555528,54.206825],[-1052.365900,65.138069],[-1049.422373,76.677776],[-1045.707765,88.856561],[-1041.204896,101.705039],[-1035.896584,115.253823],[-1029.765648,129.533528],[-1022.794908,144.574769],[-1014.967181,160.408159],[-1006.265288,177.064314],[-996.672046,194.573849],[-983.995965,216.302580],[-970.509316,237.660616],[-956.232801,258.640198],[-941.187119,279.233565],[-925.392974,299.432957],[-908.871065,319.230614],[-891.642095,338.618776],[-873.726764,357.589683],[-855.145774,376.135574],[-835.919827,394.248690],[-816.069623,411.921270],[-795.615864,429.145554],[-774.579251,445.913782],[-752.980486,462.218193],[-730.840270,478.051029],[-708.179304,493.404528],[-685.018290,508.270930],[-661.377928,522.642475],[-637.278921,536.511404],[-612.741969,549.869955],[-587.787773,562.710369],[-562.437036,575.024886],[-536.710459,586.805746],[-510.628742,598.045187],[-484.212587,608.735451],[-457.482696,618.868777],[-430.459769,628.437405],[-403.164509,637.433574],[-375.617615,645.849526],[-347.839791,653.677498],[-319.851736,660.909732],[-291.674153,667.538467],[-263.327743,673.555944],[-234.833206,678.954401],[-206.211245,683.726078],[-177.482560,687.863217],[-148.667853,691.358056],[-119.787826,694.202835],[-90.863179,696.389794],[-61.914613,697.911173],[-32.962832,698.759212],[-4.028534,698.926151],[24.867577,698.404230],[53.704802,697.185688],[82.462438,695.262765],[111.119784,692.627701],[139.656139,689.272736],[168.050802,685.190110],[196.283070,680.372063],[224.332244,674.810834],[252.177621,668.498664],[279.798501,661.427792],[307.174182,653.590458],[334.283962,644.978902],[361.107140,635.585364],[387.623016,625.402084],[413.810887,614.421301],[439.650053,602.635255],[465.119812,590.036187],[490.199462,576.616336],[514.868303,562.367941],[539.105633,547.283244],[562.890750,531.354483],[586.202954,514.573899],[614.279756,493.357794],[641.336042,472.369061],[667.388284,451.607747],[692.452954,431.073899],[656.306254,444.306499],[617.609254,457.417599],[575.524409,470.584480],[535.960632,481.791631],[517.096548,486.677003],[498.829614,491.092478],[481.148792,495.044733],[464.043044,498.540448],[447.501330,501.586300],[431.512613,504.188969],[416.065853,506.355132],[401.150011,508.091467],[386.754050,509.404654],[372.866929,510.301371],[359.477612,510.788295],[346.575057,510.872106],[334.148228,510.559482],[322.186086,509.857101],[310.677591,508.771642],[299.611705,507.309783],[288.977389,505.478202],[278.763605,503.283578],[268.959313,500.732589],[259.553476,497.831914],[250.535054,494.588231],[241.893009,491.008218],[233.616301,487.098554],[225.693893,482.865918],[218.114746,478.316987],[210.867820,473.458440],[203.942077,468.296955],[197.326479,462.839211],[191.009987,457.091887],[184.981562,451.061660],[179.230164,444.755209],[173.744757,438.179212],[168.514300,431.340348],[163.527756,424.245296],[158.774085,416.900733],[154.242248,409.313338],[145.799925,393.436766],[138.112477,376.669006],[131.091593,359.063487],[124.648964,340.673635],[118.696280,321.552877],[113.145232,301.754640],[107.907511,281.332353],[102.894805,260.339441],[93.191205,216.855455],[83.327954,171.730099],[73.648514,127.920691],[65.212206,87.929436],[58.386344,51.501071],[55.692114,34.543203],[53.538239,18.380335],[51.970631,2.980558],[51.035205,-11.688034],[50.777874,-25.657350],[51.244554,-38.959297],[52.481158,-51.625783],[54.533600,-63.688715],[57.447794,-75.180002],[61.269654,-86.131551],[66.045095,-96.575270],[71.820031,-106.543066],[78.640375,-116.066848],[86.552042,-125.178522],[95.600946,-133.909996],[105.833001,-142.293179],[117.294121,-150.359978],[130.030220,-158.142300],[144.087212,-165.672054],[159.511012,-172.981146],[176.347533,-180.101486],[194.642690,-187.064979],[214.442396,-193.903535],[235.792566,-200.649060],[258.739114,-207.333463],[283.327954,-213.988651],[315.739363,-222.676416],[346.728643,-231.358292],[404.640990,-248.445662],[457.465334,-264.733332],[505.602015,-279.703872],[549.451372,-292.839854],[569.893410,-298.558188],[589.413744,-303.623846],[608.062417,-307.972150],[625.889471,-311.538421],[642.944949,-314.257980],[659.278892,-316.066148],[674.941343,-316.898246],[689.982346,-316.689597],[704.451941,-315.375521],[711.488100,-314.283736],[718.400172,-312.891340],[725.194414,-311.190248],[731.877081,-309.172375],[738.454428,-306.829636],[744.932710,-304.153946],[751.318183,-301.137222],[757.617102,-297.771377],[763.835723,-294.048327],[769.980300,-289.959987],[776.057088,-285.498273],[782.072345,-280.655099],[788.032323,-275.422380],[793.943279,-269.792033],[799.811469,-263.755971],[805.643147,-257.306110],[817.221989,-243.132653],[828.729848,-227.206982],[840.216767,-209.464419],[851.732789,-189.840285],[863.327954,-168.269901],[902.993106,-91.311347],[921.291567,-54.441745],[929.876228,-36.393483],[938.015542,-18.596865],[945.657783,-1.047354],[952.751225,16.259588],[959.244142,33.328497],[965.084809,50.163911],[970.221499,66.770366],[974.602488,83.152399],[978.176048,99.314548],[980.890454,115.261349],[991.826562,96.295506],[1001.830752,77.591290],[1010.923851,59.146832],[1019.126689,40.960264],[1026.460093,23.029717],[1032.944891,5.353325],[1038.601911,-12.070783],[1043.451981,-29.244472],[1047.515929,-46.169613],[1050.814584,-62.848072],[1053.368774,-79.281718],[1055.199325,-95.472419],[1056.327067,-111.422043],[1056.772828,-127.132459],[1056.557435,-142.605534],[1055.701717,-157.843136],[1054.226501,-172.847134],[1052.152616,-187.619396],[1049.500890,-202.161790],[1046.292151,-216.476184],[1042.547226,-230.564445],[1038.286944,-244.428443],[1033.532133,-258.070046],[1028.303622,-271.491120],[1022.622237,-284.693536],[1016.508807,-297.679160],[1009.984160,-310.449861],[1003.069124,-323.007506],[995.784528,-335.353965],[988.151199,-347.491105],[980.189965,-359.420795],[971.921654,-371.144901],[965.371283,-379.753891],[958.494299,-387.953854],[951.301756,-395.752864],[943.804707,-403.158999],[936.014206,-410.180333],[927.941305,-416.824943],[919.597058,-423.100904],[910.992517,-429.016292],[902.138736,-434.579182],[893.046768,-439.797651],[883.727666,-444.679775],[874.192484,-449.233628],[864.452273,-453.467287],[854.518088,-457.388827],[844.400982,-461.006324],[834.112007,-464.327855],[823.662218,-467.361494],[813.062666,-470.115317],[791.458489,-474.815821],[769.387901,-478.493970],[746.939327,-481.214373],[724.201194,-483.041634],[701.261924,-484.040359],[678.209944,-484.275155],[655.133679,-483.810627],[632.121554,-482.711382],[609.261993,-481.042025],[586.643422,-478.867163],[564.354266,-476.251400],[542.482949,-473.259345],[521.117897,-469.955601],[500.347536,-466.404775],[480.260289,-462.671474],[442.488840,-454.915868],[408.510951,-447.205631],[379.034022,-440.057609],[354.765454,-433.988651],[346.182119,-433.188750],[337.566815,-432.828606],[328.919858,-432.894528],[320.241564,-433.372827],[311.532248,-434.249811],[302.792227,-435.511789],[294.021815,-437.145069],[285.221330,-439.135962],[276.391086,-441.470775],[267.531400,-444.135819],[249.724963,-450.401833],[231.804547,-457.824475],[213.772676,-466.294219],[195.631879,-475.701535],[177.384680,-485.936897],[159.033607,-496.890776],[140.581187,-508.453645],[122.029945,-520.515977],[103.382408,-532.968242],[65.808554,-558.604466],[27.879839,-584.486093],[-10.383528,-609.736903],[-29.634389,-621.851932],[-48.961334,-633.480673],[-68.361836,-644.513598],[-87.833368,-654.841181],[-107.373404,-664.353892],[-126.979417,-672.942204],[-146.648882,-680.496590],[-166.379271,-686.907522],[-176.266523,-689.649965],[-186.168059,-692.065472],[-196.083562,-694.140351],[-206.012718,-695.860912],[-215.955210,-697.213463],[-225.910722,-698.184314],[-235.878940,-698.759774],[-245.859546,-698.926151]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-235.234546,-539.707401],[-227.074507,-539.510338],[-219.021639,-538.925492],[-211.085902,-537.962383],[-203.277256,-536.630527],[-195.605661,-534.939443],[-188.081078,-532.898648],[-180.713466,-530.517661],[-173.512785,-527.805998],[-166.488996,-524.773179],[-159.652058,-521.428720],[-153.011932,-517.782139],[-146.578578,-513.842954],[-140.361955,-509.620684],[-134.372024,-505.124845],[-128.618745,-500.364957],[-123.112078,-495.350535],[-117.861983,-490.091099],[-112.878420,-484.596166],[-108.171349,-478.875254],[-103.750731,-472.937880],[-99.626524,-466.793563],[-95.808690,-460.451821],[-92.307189,-453.922170],[-89.131980,-447.214130],[-86.293023,-440.337217],[-83.800279,-433.300950],[-81.663708,-426.114846],[-79.893270,-418.788424],[-78.498924,-411.331200],[-77.490632,-403.752693],[-76.878352,-396.062421],[-76.672046,-388.269901],[-76.878352,-380.477471],[-77.490632,-372.787460],[-78.498924,-365.209375],[-79.893270,-357.752722],[-81.663708,-350.427007],[-83.800279,-343.241737],[-86.293023,-336.206417],[-89.131980,-329.330556],[-92.307189,-322.623658],[-95.808690,-316.095230],[-99.626524,-309.754778],[-103.750731,-303.611810],[-108.171349,-297.675831],[-112.878420,-291.956347],[-117.861983,-286.462866],[-123.112078,-281.204893],[-128.618745,-276.191934],[-134.372024,-271.433497],[-140.361955,-266.939087],[-146.578578,-262.718211],[-153.011932,-258.780375],[-159.652058,-255.135085],[-166.488996,-251.791849],[-173.512785,-248.760172],[-180.713466,-246.049560],[-188.081078,-243.669520],[-195.605661,-241.629559],[-203.277256,-239.939183],[-211.085902,-238.607897],[-219.021639,-237.645209],[-227.074507,-237.060625],[-235.234546,-236.863651],[-243.394585,-237.060625],[-251.447453,-237.645209],[-259.383189,-238.607897],[-267.191835,-239.939183],[-274.863430,-241.629559],[-282.388013,-243.669520],[-289.755625,-246.049560],[-296.956306,-248.760172],[-303.980095,-251.791849],[-310.817033,-255.135085],[-317.457159,-258.780375],[-323.890513,-262.718211],[-330.107136,-266.939087],[-336.097067,-271.433497],[-341.850346,-276.191934],[-347.357013,-281.204893],[-352.607108,-286.462866],[-357.590671,-291.956347],[-362.297742,-297.675831],[-366.718361,-303.611810],[-370.842567,-309.754778],[-374.660401,-316.095230],[-378.161903,-322.623658],[-381.337112,-329.330556],[-384.176068,-336.206417],[-386.668812,-343.241737],[-388.805383,-350.427007],[-390.575821,-357.752722],[-391.970167,-365.209375],[-392.978460,-372.787460],[-393.590739,-380.477471],[-393.797046,-388.269901],[-393.590739,-396.062421],[-392.978460,-403.752693],[-391.970167,-411.331200],[-390.575821,-418.788424],[-388.805383,-426.114846],[-386.668812,-433.300950],[-384.176068,-440.337217],[-381.337112,-447.214130],[-378.161903,-453.922170],[-374.660401,-460.451821],[-370.842567,-466.793563],[-366.718361,-472.937880],[-362.297742,-478.875254],[-357.590671,-484.596166],[-352.607108,-490.091099],[-347.357013,-495.350535],[-341.850346,-500.364957],[-336.097067,-505.124845],[-330.107136,-509.620684],[-323.890513,-513.842954],[-317.457159,-517.782139],[-310.817033,-521.428720],[-303.980095,-524.773179],[-296.956306,-527.805998],[-289.755625,-530.517661],[-282.388013,-532.898648],[-274.863430,-534.939443],[-267.191835,-536.630527],[-259.383189,-537.962383],[-251.447453,-538.925492],[-243.394585,-539.510338],[-235.234546,-539.707401]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[-169.234546,85.292599],[-164.019517,85.413226],[-159.101248,85.937745],[-154.461586,86.867181],[-150.082380,88.202563],[-145.945479,89.944915],[-142.032733,92.095264],[-138.325988,94.654637],[-134.807095,97.624060],[-131.457902,101.004559],[-128.260257,104.797162],[-125.196010,109.002893],[-122.247009,113.622780],[-116.622141,124.109127],[-111.240442,136.264412],[-105.956703,150.096848],[-100.625713,165.614646],[-89.241141,201.739170],[-75.925045,244.703675],[-68.179651,268.771447],[-59.515746,294.573849],[-33.519483,369.044008],[-22.153279,402.005827],[-12.213697,432.308442],[-3.954739,460.094080],[-0.534870,473.087479],[2.369592,485.504968],[4.726897,497.364327],[6.505295,508.683334],[7.673035,519.479767],[8.198367,529.771405],[8.049540,539.576025],[7.194806,548.911407],[5.602412,557.795329],[3.240609,566.245569],[0.077646,574.279905],[-3.918226,581.916117],[-8.778758,589.171981],[-14.535700,596.065278],[-21.220803,602.613784],[-28.865817,608.835279],[-37.502492,614.747541],[-47.162579,620.368348],[-57.877827,625.715479],[-69.679988,630.806712],[-82.600810,635.659826],[-96.672046,640.292599],[-105.372682,642.643169],[-113.683319,644.202738],[-121.623687,644.984549],[-129.213516,645.001844],[-136.472537,644.267864],[-143.420480,642.795852],[-150.077076,640.599049],[-156.462055,637.690699],[-162.595148,634.084042],[-168.496086,629.792320],[-174.184598,624.828777],[-179.680415,619.206653],[-185.003268,612.939192],[-190.172887,606.039634],[-195.209003,598.521222],[-200.131346,590.397199],[-204.959646,581.680805],[-209.713635,572.385284],[-219.077598,552.109825],[-228.381080,529.676760],[-237.781923,505.192024],[-257.507072,450.491285],[-279.515796,388.855099],[-290.585130,357.695458],[-300.183563,328.952874],[-308.253883,302.499681],[-314.738878,278.208213],[-317.369000,266.833230],[-319.581337,255.950805],[-321.368736,245.544979],[-322.724046,235.599793],[-323.640116,226.099290],[-324.109794,217.027511],[-324.125929,208.368499],[-323.681369,200.106295],[-322.768963,192.224941],[-321.381559,184.708479],[-319.512006,177.540950],[-317.153152,170.706397],[-314.297846,164.188862],[-310.938936,157.972386],[-307.069271,152.041011],[-302.681699,146.378779],[-297.769068,140.969732],[-292.324228,135.797912],[-286.340026,130.847361],[-279.809312,126.102120],[-272.724933,121.546231],[-265.079738,117.163737],[-256.866576,112.938679],[-248.078296,108.855099],[-235.507941,103.443538],[-223.800383,98.732597],[-212.912064,94.724287],[-202.799427,91.420619],[-193.418914,88.823605],[-184.726968,86.935256],[-176.680031,85.757583],[-169.234546,85.292599]]);
    }
  }
}

fudge = 0.1;
max_h = 70;
custom_scale = 0.225;
ref_x=130;
ref_y=94;
ref_z=max_h;
ref_pad=10;
angle=atan(ref_z/ref_y);
squish=ref_y/(sqrt(ref_z*ref_z+ref_y*ref_y));
echo( squish );

//translate([-ref_x/2,-ref_y/2,0])
//#cube([ref_x,ref_y,ref_z]);

scale([1,squish,1])
difference() {
    poly_path3069(max_h);
    translate([0,ref_y/2,ref_z])
    rotate([angle,0,0])
    translate([-ref_x/2-ref_pad/2,-ref_y*2+ref_pad/2,0])
    #cube([ref_x+ref_pad,ref_y*2+ref_pad,ref_z+ref_pad]);
}


